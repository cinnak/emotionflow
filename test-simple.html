<!DOCTYPE html>
<html>
<head>
  <title>Simple Particle Test</title>
  <style>
    body { margin: 0; background: #0d1219; min-height: 100vh; overflow: hidden; }
    canvas { display: block; position: fixed; top: 0; left: 0; }
    #info { position: fixed; top: 10px; left: 10px; color: white; font-family: monospace; z-index: 100; }
  </style>
</head>
<body>
  <div id="info">
    <h2>Simple Particle Test</h2>
    <p>Particles should appear immediately and explode outward.</p>
    <p id="count">Particles: 0</p>
  </div>
  <canvas id="canvas"></canvas>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const countEl = document.getElementById('count');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    console.log('Canvas size:', canvas.width, 'x', canvas.height);
    console.log('Canvas context:', ctx);

    const particles = [];
    const colors = ['#ff6b6b', '#ffd93d', '#6bcb77', '#4d96ff'];

    // Create particles in a circle
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;

    for (let i = 0; i < 200; i++) {
      const angle = (i / 200) * Math.PI * 2;
      const radius = 50;
      particles.push({
        x: centerX + Math.cos(angle) * radius,
        y: centerY + Math.sin(angle) * radius,
        vx: Math.cos(angle) * 15,
        vy: Math.sin(angle) * 15,
        size: 6,
        color: colors[Math.floor(Math.random() * colors.length)],
        life: 1
      });
    }

    countEl.textContent = 'Particles: ' + particles.length;
    console.log('Created', particles.length, 'particles');

    let frame = 0;
    function animate() {
      frame++;
      ctx.fillStyle = 'rgba(13, 18, 25, 0.2)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      let alive = 0;
      particles.forEach(p => {
        if (p.life > 0) {
          alive++;
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.3;
          p.life -= 0.015;

          ctx.fillStyle = p.color;
          ctx.globalAlpha = p.life;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
          ctx.fill();
        }
      });

      ctx.globalAlpha = 1;

      if (frame % 30 === 0) {
        console.log('Frame', frame + ', alive:', alive);
      }

      if (alive > 0) {
        requestAnimationFrame(animate);
      } else {
        console.log('Animation complete after', frame, 'frames');
        countEl.textContent = 'Animation complete!';
      }
    }

    animate();
  </script>
</body>
</html>
